<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Sentiment Analyzer</title>
  <style>
    body { font-family: Arial, Helvetica, sans-serif; max-width:720px; margin:40px auto; padding:0 16px; }
    textarea{ width:100%; height:160px; font-size:16px; padding:10px; }
    button{ padding:10px 18px; font-size:16px; margin-top:8px; cursor:pointer; }
    .result{ margin-top:20px; font-size:18px; }
  </style>
</head>
<body>
  <h1>Movie/Review Sentiment Analyzer</h1>
  <p>Paste a review and click <strong>Analyze</strong>.</p>
  <textarea id="text" placeholder="Type or paste text here..."></textarea>
  <br/>
  <button id="btn">Analyze Sentiment</button>

  <div class="result" id="result"></div>

  <script>
    document.getElementById('btn').addEventListener('click', async () => {
      const txt = document.getElementById('text').value;
      const resEl = document.getElementById('result');
      resEl.textContent = 'Analyzing...';
      try {
        const resp = await fetch('/analyze', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ text: txt })
        });
        const data = await resp.json();
        if (resp.ok) {
          resEl.textContent = `Sentiment: ${data.label}  (score: ${data.score})`;
        } else {
          resEl.textContent = `Error: ${data.error || 'analysis failed'}`;
        }
      } catch (e) {
        resEl.textContent = 'Network error';
      }
    });
  </script>
</body>
</html>
